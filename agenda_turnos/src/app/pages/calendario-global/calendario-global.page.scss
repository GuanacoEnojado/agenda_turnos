/* Calendario Global - Estilos Específicos de Página */

/* Colores específicos de encabezado por tipo de tarjeta */
.workers-on-shift ion-card-header {
  background: var(--app-color-blue-1) !important;
}

.absent-workers ion-card-header {
  background: var(--app-color-grey-2) !important;
}

.free-workers ion-card-header {
  background: var(--app-color-grey-1) !important;
}

.summary-card ion-card-header {
  background: var(--app-color-blue-2) !important;
}

/* Solo sobrescrituras específicas de página */
.extra-shift-label,
.shifted-label {
  color: var(--app-color-blue-2) !important;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: var(--app-spacing-xs);
  
  ion-icon {
    font-size: 0.9rem;
  }
}

// Estilo de tarjetas básico
ion-card {
  margin-bottom: 1rem;
  border-radius: 12px;
  
  ion-card-header {
    ion-card-title {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      
      ion-icon {
        flex-shrink: 0;
      }
    }
  }
}

// Estilo de elementos de lista básico
ion-item {
  --padding-start: 16px;
  --padding-end: 16px;
  margin-bottom: 8px;
  border-radius: 8px;
  
  ion-avatar {
    margin-right: 16px;
  }
  
  ion-badge {
    margin-left: 8px;
    
    ion-icon {
      margin-right: 4px;
    }
  }
}

// Estilo de encabezado
ion-header {
  ion-toolbar {
    --background: var(--ion-color-primary);
    --color: var(--ion-color-primary-contrast);
  }
}

// Estilo de acciones de trabajador básico
.worker-actions {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 8px;
  
  ion-button {
    margin: 0;
    min-height: 36px;
    min-width: 120px;
    
    &[size="small"] {
      --padding-start: 12px;
      --padding-end: 12px;
      font-size: 0.85rem;
      min-height: 32px;
      min-width: 110px;
    }
    
    // Estilo específico para botón "Ver Turnos"
    &[color="tertiary"][fill="clear"] {
      --color: var(--ion-color-tertiary);
      --background: rgba(var(--ion-color-tertiary-rgb), 0.05);
      border: 1px solid rgba(var(--ion-color-tertiary-rgb), 0.2);
      border-radius: 18px;
      
      &:hover {
        --background: rgba(var(--ion-color-tertiary-rgb), 0.15);
        border-color: var(--ion-color-terciary);
      }
    }
  }
  
  ion-badge {
    margin-left: 0;
    border-radius: 12px;
    padding: 4px 8px;
    font-weight: 500;
    
    &[color="light"] {
      --background: rgba(108, 117, 125, 0.8);
      --color: white;
    }
    
    &[color="danger"] {
      box-shadow: 0 2px 4px rgba(var(--ion-color-danger-rgb), 0.3);
    }
  }
}

// Estados de tarjetas de trabajador
.absent-worker {
  --background: #fff3cd !important; // Fondo amarillo claro sólido
  border-left: 4px solid var(--ion-color-warning);
  margin-bottom: 12px !important;
  border-radius: 12px !important;
  box-shadow: 0 2px 8px rgba(255, 193, 7, 0.25);
  
  ion-label {
    color: #856404 !important; // Texto marrón oscuro sobre fondo amarillo
    
    h2 {
      color: #664200 !important; // Nombre en marrón más oscuro
      font-weight: 600;
    }
    
    p {
      color: #856404 !important; // Detalles en marrón medio
    }
    
    strong {
      color: #664200 !important;
    }
  }
  
  .absent-avatar img {
    opacity: 0.8;
    filter: sepia(20%);
  }
}

.free-worker {
  --background: #495057 !important; // Fondo gris oscuro sólido
  border-left: 4px solid #6c757d;
  margin-bottom: 12px !important;
  border-radius: 12px !important;
  box-shadow: 0 2px 8px rgba(108, 117, 125, 0.3);
  
  ion-label {
    color: #ffffff !important; // Texto blanco sobre fondo oscuro
    
    h2 {
      color: #ffffff !important; // Nombre en blanco
      font-weight: 600;
    }
    
    p {
      color: #e9ecef !important; // Detalles en gris muy claro
    }
  }
  
  .free-avatar img {
    opacity: 0.9;
    filter: brightness(1.1);
  }
}

// Tarjetas de trabajadores en turno
.workers-on-shift ion-item {
  --background: #d1f2eb !important; // Fondo verde claro sólido
  border-left: 4px solid var(--ion-color-success);
  margin-bottom: 12px !important;
  border-radius: 12px !important;
  box-shadow: 0 2px 8px rgba(var(--ion-color-success-rgb), 0.2);
  
  ion-label {
    color: #0f5132 !important; // Texto verde oscuro sobre fondo verde claro
    
    h2 {
      color: #0a3d2a !important; // Nombre en verde más oscuro
      font-weight: 600;
    }
    
    p {
      color: #0f5132 !important; // Detalles en verde oscuro
    }
  }
  
  // Estilos específicos para labels de turno extra y cambio
  .extra-shift-label {
    color: var(--ion-color-terciary) !important;
    font-weight: 600;
    
    ion-icon {
      color: var(--ion-color-terciary) !important;
    }
  }
  
  .shifted-label {
    color: var(--ion-color-success) !important;
    font-weight: 600;
    
    ion-icon {
      color: var(--ion-color-success) !important;
    }
  }
}

// Estilo general para todos los ion-item en tarjetas
ion-card ion-item {
  transition: all 0.3s ease;
  
  &:hover {
    transform: translateX(4px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }
}

// Estilos adicionales para avatares
ion-avatar {
  ion-icon {
    font-size: 2.5rem;
  }
  
  img {
    border-radius: 50%;
    border: 2px solid rgba(255, 255, 255, 0.2);
    transition: all 0.3s ease;
  }
}

// Íconos específicos por tipo de trabajador
.workers-on-shift ion-avatar ion-icon {
  color: #0f5132 !important; // Verde oscuro para trabajadores en turno
}

.absent-worker ion-avatar ion-icon {
  color: #664200 !important; // Marrón oscuro para trabajadores ausentes
}

.free-worker ion-avatar ion-icon {
  color: #ffffff !important; // Blanco para trabajadores libres
}

// Animaciones y transiciones
.absent-worker, .free-worker {
  animation: slideInUp 0.3s ease-out;
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// Estilo específico para turnos extra
ion-button[color="tertiary"] {
  --color: white;
  --background: linear-gradient(135deg, var(--ion-color-tertiary), var(--ion-color-terciary-shade));
  --border-color: var(--ion-color-tertiary);
  border-radius: 20px;
  font-weight: 500;
  box-shadow: 0 2px 8px rgba(var(--ion-color-tertiary-rgb), 0.3);
  transition: all 0.3s ease;
  
  &:hover {
    --background: linear-gradient(135deg, var(--ion-color-terciary-shade), var(--ion-color-tertiary));
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(var(--ion-color-tertiary-rgb), 0.4);
  }
  
  &[fill="outline"] {
    --color: var(--ion-color-terciary);
    --background: rgba(var(--ion-color-terciary-rgb), 0.1);
    --border-color: var(--ion-color-terciary);
    
    &:hover {
      --color: white;
      --background: linear-gradient(135deg, var(--ion-color-terciary), var(--ion-color-terciary-shade));
    }
  }
}

// Estilo de estado específico por fecha
.extra-shift-label {
  color: var(--ion-color-terciary);
  font-weight: 500;
  
  ion-icon {
    margin-right: 0.25rem;
  }
}

.shifted-label {
  color: var(--ion-color-success);
  font-weight: 500;
  
  ion-icon {
    margin-right: 0.25rem;
  }
}

.date-specific-status {
  padding: 0.25rem 0.5rem;
  border-radius: 8px;
  font-size: 0.8rem;
  font-weight: 500;
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  
  &.extra-shift {
    background-color: var(--ion-color-terciary-tint);
    color: var(--ion-color-terciary-shade);
  }
  
  &.medical-leave {
    background-color: var(--ion-color-warning-tint);
    color: var(--ion-color-warning-shade);
  }
  
  &.vacation {
    background-color: var(--ion-color-success-tint);
    color: var(--ion-color-success-shade);
  }
}

/* ======= ESTILOS ESPECÍFICOS PARA TRABAJADORES CON TURNOS CAMBIADOS ======= */
.shifted-workers {
  ion-card-header {
    background: var(--app-color-blue-3) !important;
  }
  
  // Estilos base para ion-item de trabajadores cambiados
  .shifted-worker {
    --background: #f8f9fa !important; // Fondo gris muy claro
    border-left: 4px solid var(--ion-color-secondary);
    margin-bottom: 12px !important;
    border-radius: 12px !important;
    box-shadow: 0 2px 8px rgba(var(--ion-color-secondary-rgb), 0.2);
    --min-height: auto !important;
    min-height: 80px !important;
    --padding-start: 16px !important;
    --padding-end: 16px !important;
    --padding-top: 12px !important;
    --padding-bottom: 12px !important;
    
    ion-label {
      white-space: normal !important;
      color: #343a40 !important;
      
      h2 {
        white-space: normal !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
        line-height: 1.3 !important;
        margin-bottom: 4px !important;
        color: #212529 !important;
        font-weight: 600;
        font-size: 1rem;
      }
      
      p {
        white-space: normal !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
        line-height: 1.3 !important;
        margin: 2px 0 !important;
        color: #6c757d !important;
        font-size: 0.9rem;
        
        &:last-child {
          margin-bottom: 0 !important;
        }
      }
    }
    
    // Información de cambio de turno con diseño responsivo
    .shift-change-info {
      color: #495057 !important;
      font-weight: 500 !important;
      margin: 8px 0 !important;
      padding: 8px 12px !important;
      background: rgba(var(--ion-color-secondary-rgb), 0.1) !important;
      border-radius: 8px !important;
      border-left: 3px solid var(--ion-color-secondary) !important;
      line-height: 1.4 !important;
      white-space: normal !important;
      word-wrap: break-word !important;
      font-size: 0.85rem !important;
      
      strong {
        font-weight: 600 !important;
        color: #212529 !important;
      }
      
      ion-icon {
        margin-right: 4px !important;
        vertical-align: middle !important;
      }
      
      em {
        font-style: italic;
        color: #6c757d !important;
      }
    }
    
    // Estilos para worker-actions de turnos cambiados
    .worker-actions {
      display: flex !important;
      flex-direction: column !important;
      align-items: flex-end !important;
      gap: 4px !important;
      min-width: 100px !important;
      max-width: 120px !important;
      
      ion-badge {
        width: 100% !important;
        text-align: center !important;
        font-size: 0.7rem !important;
        padding: 4px 8px !important;
        white-space: nowrap !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        border-radius: 12px !important;
        
        &:first-child {
          font-weight: 600 !important;
        }
        
        &:last-child {
          font-weight: 500 !important;
          opacity: 0.9 !important;
        }
        
        ion-icon {
          margin-right: 2px !important;
        }
      }
    }
  }
  
  // Ícono específico para trabajadores con turnos cambiados
  .shifted-worker ion-avatar ion-icon {
    color: var(--ion-color-secondary) !important;
  }
}

/* Responsive específico para turnos cambiados en pantallas pequeñas */
@media (max-width: 768px) {
  .shifted-workers {
    .shifted-worker {
      --padding-start: 12px !important;
      --padding-end: 12px !important;
      min-height: 90px !important;
      
      ion-avatar {
        --size: 36px !important;
        margin-right: 12px !important;
      }
      
      ion-label {
        h2 {
          font-size: 0.9rem !important;
        }
        
        p {
          font-size: 0.8rem !important;
        }
      }
      
      .shift-change-info {
        font-size: 0.8rem !important;
        padding: 6px 10px !important;
        margin: 6px 0 !important;
        
        strong {
          display: block !important;
          margin-bottom: 2px !important;
        }
      }
      
      .worker-actions {
        min-width: 90px !important;
        max-width: 110px !important;
        
        ion-badge {
          font-size: 0.65rem !important;
          padding: 3px 6px !important;
        }
      }
    }
  }
}

/* Responsive para turnos cambiados en pantallas muy pequeñas */
@media (max-width: 480px) {
  .shifted-workers {
    .shifted-worker {
      flex-direction: row !important; // Mantener layout horizontal
      align-items: flex-start !important;
      --padding-top: 10px !important;
      --padding-bottom: 10px !important;
      min-height: 100px !important;
      
      ion-avatar {
        margin-bottom: 0 !important;
        margin-right: 10px !important;
        --size: 32px !important;
      }
      
      ion-label {
        flex: 1 !important;
        margin-bottom: 0 !important;
        margin-right: 8px !important;
      }
      
      .shift-change-info {
        font-size: 0.75rem !important;
        padding: 4px 8px !important;
        margin: 4px 0 !important;
        
        strong {
          display: inline !important;
          margin-bottom: 0 !important;
        }
      }
      
      .worker-actions {
        min-width: 80px !important;
        max-width: 90px !important;
        flex-shrink: 0 !important;
        
        ion-badge {
          font-size: 0.6rem !important;
          padding: 2px 4px !important;
          width: 100% !important;
        }
      }
    }
  }
}


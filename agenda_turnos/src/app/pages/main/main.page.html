<ion-header>
  <ion-toolbar class="app-toolbar">
    <ion-buttons slot="start">
      <ion-menu-button class="app-menu-button"></ion-menu-button>
    </ion-buttons>
    <ion-title class="app-toolbar-title">
      <span *ngIf="currentUser">Bienvenido, {{ currentUser.name }}!</span>
      <span *ngIf="!currentUser">Bienvenido!</span>
    </ion-title>
    <ion-buttons slot="end">
      <ion-button 
        (click)="logout()" 
        *ngIf="currentUser"
        class="app-icon-button">
        <ion-icon name="log-out-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding app-background">
  <div class="welcome-section" *ngIf="currentUser">
    <ion-card class="app-card welcome-card">
      <ion-card-header class="app-card-header">
        <ion-card-title class="app-card-title">
          <ion-icon name="shield-checkmark-outline" class="title-icon"></ion-icon>
          Panel de Administrador
        </ion-card-title>
        <ion-card-subtitle class="app-card-subtitle">{{ currentUser.email }}</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content class="app-card-content">
        <p class="welcome-text">Hola {{ currentUser.name }}, bienvenido al sistema de gestión de turnos.</p>
        <p class="description-text">Desde aquí puedes administrar funcionarios, consultar calendarios y gestionar turnos.</p>
        
        <div class="quick-actions">
          <ion-grid>
            <ion-row>
              <ion-col size="12" size-md="6">
                <ion-button 
                  expand="block" 
                  fill="outline"
                  class="app-button app-button-outline"
                  routerLink="/lista-funcionarios">
                  <ion-icon name="people-outline" slot="start"></ion-icon>
                  Ver Funcionarios
                </ion-button>
              </ion-col>
              <ion-col size="12" size-md="6">
                <ion-button 
                  expand="block" 
                  fill="outline"
                  class="app-button app-button-outline"
                  routerLink="/calendario-global">
                  <ion-icon name="calendar-outline" slot="start"></ion-icon>
                  Ver Calendario
                </ion-button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </div>
      </ion-card-content>
    </ion-card>
  </div>

  <div class="no-user-section" *ngIf="!currentUser">
    <ion-card class="app-card error-card">
      <ion-card-content class="app-card-content">
        <div class="error-content">
          <ion-icon name="person-outline" class="error-icon"></ion-icon>
          <h3 class="error-title">Sesión requerida</h3>
          <p class="error-description">No hay usuario autenticado. Por favor, inicia sesión para continuar.</p>
          <ion-button 
            expand="block" 
            (click)="goToLogin()"
            class="app-button app-button-primary">
            <ion-icon name="log-in-outline" slot="start"></ion-icon>
            Ir a Login
          </ion-button>
        </div>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>